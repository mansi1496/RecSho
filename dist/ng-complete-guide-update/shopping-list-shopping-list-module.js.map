{"version":3,"sources":["./src/app/shopping-list/shopping-edit/shopping-edit.component.ts","./src/app/shopping-list/shopping-edit/shopping-edit.component.html","./src/app/shopping-list/shopping-list.component.ts","./src/app/shopping-list/shopping-list.component.html","./src/app/shopping-list/shopping-list.module.ts"],"names":[],"mappings":"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","file":"shopping-list-shopping-list-module.js","sourcesContent":["import { Component, OnInit, OnDestroy, ViewChild } from '@angular/core';\nimport { NgForm } from '@angular/forms';\nimport { Subscription } from 'rxjs';\nimport { Store } from '@ngrx/store';\n\nimport { Ingredient } from '../../shared/ingredient.model';\nimport * as ShoppingListActions from '../store/shopping-list.actions';\nimport * as fromApp from '../../store/app.reducer';\n\n@Component({\n  selector: 'app-shopping-edit',\n  templateUrl: './shopping-edit.component.html',\n  styleUrls: ['./shopping-edit.component.css']\n})\nexport class ShoppingEditComponent implements OnInit, OnDestroy {\n  @ViewChild('f') slForm: NgForm;\n  subscription: Subscription;\n  editMode = false;\n  editedItem: Ingredient;\n\n  constructor(\n    private store: Store<fromApp.AppState>\n  ) {}\n\n  ngOnInit() {\n    this.subscription = this.store\n      .select('shoppingList')\n      .subscribe(stateData => {\n        if (stateData.editedIngredientIndex > -1) {\n          this.editMode = true;\n          this.editedItem = stateData.editedIngredient;\n          this.slForm.setValue({\n            name: this.editedItem.name,\n            amount: this.editedItem.amount\n          });\n        } else {\n          this.editMode = false;\n        }\n      });\n  }\n\n  onSubmit(form: NgForm) {\n    const value = form.value;\n    const newIngredient = new Ingredient(value.name, value.amount);\n    if (this.editMode) {\n      // this.slService.updateIngredient(this.editedItemIndex, newIngredient);\n      this.store.dispatch(\n        new ShoppingListActions.UpdateIngredient(newIngredient)\n      );\n    } else {\n      // this.slService.addIngredient(newIngredient);\n      this.store.dispatch(new ShoppingListActions.AddIngredient(newIngredient));\n    }\n    this.editMode = false;\n    form.reset();\n  }\n\n  onClear() {\n    this.slForm.reset();\n    this.editMode = false;\n    this.store.dispatch(new ShoppingListActions.StopEdit());\n  }\n\n  onDelete() {\n    // this.slService.deleteIngredient(this.editedItemIndex);\n    this.store.dispatch(new ShoppingListActions.DeleteIngredient());\n    this.onClear();\n  }\n\n  ngOnDestroy() {\n    this.subscription.unsubscribe();\n    this.store.dispatch(new ShoppingListActions.StopEdit());\n  }\n}\n","<div class=\"row\">\n  <div class=\"col-xs-12\">\n    <form (ngSubmit)=\"onSubmit(f)\" #f=\"ngForm\">\n      <div class=\"row\">\n        <div class=\"col-sm-5 form-group\">\n          <label for=\"name\">Name</label>\n          <input\n            type=\"text\"\n            id=\"name\"\n            class=\"form-control\"\n            name=\"name\"\n            ngModel\n            required\n          >\n        </div>\n        <div class=\"col-sm-2 form-group\">\n          <label for=\"amount\">Amount</label>\n          <input\n            type=\"number\"\n            id=\"amount\"\n            class=\"form-control\"\n            name=\"amount\"\n            ngModel\n            required\n            pattern=\"^[1-9]+[0-9]*$\"\n          >\n        </div>\n      </div>\n      <div class=\"row\">\n        <div class=\"col-xs-12\">\n          <button\n            class=\"btn btn-success\"\n            type=\"submit\"\n            [disabled]=\"!f.valid\">{{ editMode ? 'Update' : 'Add' }}</button>\n          <button\n            class=\"btn btn-danger\"\n            type=\"button\"\n            (click)=\"onDelete()\"\n            *ngIf=\"editMode\">Delete</button>\n          <button class=\"btn btn-primary\" type=\"button\" (click)=\"onClear()\">Clear</button>\n        </div>\n      </div>\n    </form>\n  </div>\n</div>\n","import { Component, OnInit, OnDestroy } from '@angular/core';\nimport { Subscription, Observable } from 'rxjs';\nimport { Store } from '@ngrx/store';\n\nimport { Ingredient } from '../shared/ingredient.model';\nimport { LoggingService } from '../logging.service';\nimport * as ShoppingListActions from './store/shopping-list.actions';\nimport * as fromApp from '../store/app.reducer';\n\n@Component({\n  selector: 'app-shopping-list',\n  templateUrl: './shopping-list.component.html',\n  styleUrls: ['./shopping-list.component.css']\n})\nexport class ShoppingListComponent implements OnInit, OnDestroy {\n  ingredients: Observable<{ ingredients: Ingredient[] }>;\n  private subscription: Subscription;\n\n  constructor(\n    private loggingService: LoggingService,\n    private store: Store<fromApp.AppState>\n  ) {}\n\n  ngOnInit() {\n    this.ingredients = this.store.select('shoppingList');\n    // this.ingredients = this.slService.getIngredients();\n    // this.subscription = this.slService.ingredientsChanged.subscribe(\n    //   (ingredients: Ingredient[]) => {\n    //     this.ingredients = ingredients;\n    //   }\n    // );\n\n    this.loggingService.printLog('Hello from ShoppingListComponent ngOnInit!');\n  }\n\n  onEditItem(index: number) {\n    // this.slService.startedEditing.next(index);\n    this.store.dispatch(new ShoppingListActions.StartEdit(index));\n  }\n\n  ngOnDestroy() {\n    // this.subscription.unsubscribe();\n  }\n}\n","<div class=\"row\">\n  <div class=\"col-xs-10\">\n    <app-shopping-edit></app-shopping-edit>\n    <hr>\n    <ul class=\"list-group\">\n      <a\n        class=\"list-group-item\"\n        style=\"cursor: pointer\"\n        *ngFor=\"let ingredient of (ingredients | async).ingredients; let i = index\"\n        (click)=\"onEditItem(i)\"\n      >\n        {{ ingredient.name }} ({{ ingredient.amount }})\n      </a>\n    </ul>\n  </div>\n</div>\n","import { NgModule } from '@angular/core';\nimport { RouterModule } from '@angular/router';\nimport { FormsModule } from '@angular/forms';\n\nimport { ShoppingListComponent } from './shopping-list.component';\nimport { ShoppingEditComponent } from './shopping-edit/shopping-edit.component';\nimport { SharedModule } from '../shared/shared.module';\nimport { LoggingService } from '../logging.service';\n\n@NgModule({\n  declarations: [ShoppingListComponent, ShoppingEditComponent],\n  imports: [\n    FormsModule,\n    RouterModule.forChild([{ path: '', component: ShoppingListComponent }]),\n    SharedModule\n  ]\n  // providers: [LoggingService]\n})\nexport class ShoppingListModule {}\n"],"sourceRoot":"webpack:///"}